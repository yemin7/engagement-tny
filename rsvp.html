<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' https://cdn.tailwindcss.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        font-src 'self' https://fonts.gstatic.com;
        img-src 'self';
        form-action https://docs.google.com;
        frame-src 'self' https://docs.google.com; /* <-- UPDATED: Allow Google Forms in the iframe */
        object-src 'none';
        frame-ancestors 'none';
        base-uri 'self';
    ">
    <title>RSVP - Thae & Ye's Engagement</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- External Stylesheets -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Charm&family=Fahkwang&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/rsvp.css">
</head>
<body class="py-12 px-4 bg-[#fbf8ec]">

<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
        sandbox="allow-forms allow-same-origin"></iframe>

<!-- RSVP Section -->
<main id="rsvp" class="max-w-6xl mx-auto p-8 md:p-12 shadow-xl rounded-lg bg-white">
    <div id="form-container">
        <h2 class="text-3xl font-light mb-8 text-center text-[#6c584c]">We‚Äôd Love to Hear From You</h2>
        <form
                action="https://docs.google.com/forms/d/e/1FAIpQLSdapc3xvMt-uy0A-ZdQmcYRyc9I7Q7LDweNgIiG0M5Qa5bP0w/formResponse"
                method="POST"
                target="hidden_iframe"
                id="rsvp-form"
                class="space-y-6"
        >

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Name*</label>
                    <input id="name" name="entry.2092238618" type="text" required
                           class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#6c584c] focus:border-[#6c584c]"
                           placeholder="Your Full Name">
                </div>
            </div>

            <div>
                <label for="is-attending" class="block text-sm font-medium text-gray-700 mb-1">Will you be
                    attending?*</label>
                <select id="is-attending" name="entry.479301265" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#6c584c] focus:border-[#6c584c]">
                    <option value="">-- We'd love to know ---</option>
                    <option value="Yes">Absolutely! I'll be there ü•Ç</option>
                    <option value="No">Wishing you endless love from afar üíï</option>
                </select>
            </div>

            <!-- This container holds all fields that appear after selecting "Yes" -->
            <div id="attending-details" class="space-y-6" style="display: none;">
                <div id="guest-count-section">
                    <label for="guest-count" class="block text-sm font-medium text-gray-700 mb-1">Number of Additional
                        Guests</label>
                    <select id="guest-count" name="entry.1753222212"
                            class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#6c584c] focus:border-[#6c584c]">
                        <option value="0">0</option>
                        <option value="1">1</option>
                    </select>
                </div>

                <!-- Main Person's Menu -->
                <div class="border-t border-gray-200 pt-6">
                    <h3 class="text-xl serif-font text-[#6c584c] mb-4">Your Menu Selection</h3>
                    <div id="appetizer-section-container">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Appetizer Selection*</label>
                        <div id="appetizer-selection-inputs"></div>
                        <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
                             id="appetizer-options">
                        </div>
                    </div>
                    <br>
                    <div id="main-dish-section-container">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Main Dish Selection*</label>
                        <div id="main-dish-selection-inputs"></div>
                        <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
                             id="main-dish-options">
                        </div>
                    </div>
                    <br>
                    <div id="beverage-section-container">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Beverage Selection*</label>
                        <div id="beverage-selection-inputs"></div>
                        <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
                             id="beverage-options">
                        </div>
                    </div>
                </div>

                <!-- Guest's Menu (conditionally shown) -->
                <div id="guest-menu-details" style="display: none;">
                    <div class="border-t border-gray-200 pt-6 mt-6">
                        <h3 class="text-xl serif-font text-[#6c584c] mb-4">Your Guest's Menu Selection</h3>
                        <div id="guest-appetizer-section-container">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Guest's Appetizer
                                Selection*</label>
                            <div id="guest-appetizer-selection-inputs"></div>
                            <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
                                 id="guest-appetizer-options">
                            </div>
                        </div>
                        <br>
                        <div id="guest-main-dish-section-container">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Guest's Main Dish
                                Selection*</label>
                            <div id="guest-main-dish-selection-inputs"></div>
                            <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
                                 id="guest-main-dish-options">
                            </div>
                        </div>
                        <br>
                         <div id="guest-beverage-section-container">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Guest's Beverage
                                Selection*</label>
                            <div id="guest-beverage-selection-inputs"></div>
                            <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
                                 id="guest-beverage-options">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center pt-4">
                <button type="submit"
                        class="bg-[#6c584c] hover:bg-[#c4a77d] text-white font-semibold px-8 py-3 rounded-full transition-all">
                    Submit
                </button>
            </div>

        </form>
    </div>
</main>

<footer class="text-center py-6 mt-8">
    <a href="index.html" class="serif-font text-lg text-[#6c584c] hover:text-[#c4a77d] transition-colors">‚Üê Back to
        Invitation</a>
</footer>

<script src="assets/js/rsvp.js" defer></script>

</body>
</html>
